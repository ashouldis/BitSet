<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DensityBiterator</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.shouldis.bitset.parallel, class: DensityBiterator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DensityBiterator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.shouldis.bitset.parallel</a></div>
<h1 title="Class DensityBiterator" class="title">Class DensityBiterator</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="Biterator.html" title="class in com.shouldis.bitset.parallel">com.shouldis.bitset.parallel.Biterator</a>
<div class="inheritance">com.shouldis.bitset.parallel.DensityBiterator</div>
</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.util.Spliterator&lt;java.lang.Integer&gt;</code>, <code>java.util.Spliterator.OfInt</code>, <code>java.util.Spliterator.OfPrimitive&lt;java.lang.Integer,&#8203;java.util.function.IntConsumer,&#8203;java.util.Spliterator.OfInt&gt;</code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DeadBiterator.html" title="class in com.shouldis.bitset.parallel">DeadBiterator</a></code>, <code><a href="FunctionBiterator.html" title="class in com.shouldis.bitset.parallel">FunctionBiterator</a></code>, <code><a href="LiveBiterator.html" title="class in com.shouldis.bitset.parallel">LiveBiterator</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">DensityBiterator</span>
extends <a href="Biterator.html" title="class in com.shouldis.bitset.parallel">Biterator</a></pre>
<div class="block">Implementation of <a href="Biterator.html" title="class in com.shouldis.bitset.parallel"><code>Biterator</code></a> used to allow parallel processing when
 the number of live indices is expensive to compute, but the density of them
 can be estimated in order to split efficiently. For best results, the density
 of the <a href="../BitSet.html" title="class in com.shouldis.bitset"><code>BitSet</code></a>(s) encountered should be loosely homogeneous.
 <ul>
 <li><code>density(a &amp; b) = density(a) * density(b)</code></li>
 <li><code>density(a | b) = density(a) + density(b) - (density(a) * density(b))</code></li>
 <li><code>density(a ^ b) = density(a) + density(b) - (2 * density(a) * density(b))</code></li>
 <li><code>density(~a) = 1 - density(a)</code></li>
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Aaron Shouldis</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from interface&nbsp;java.util.Spliterator</h2>
<a id="nested.classes.inherited.from.class.java.util.Spliterator">
<!--   -->
</a><code>java.util.Spliterator.OfDouble, java.util.Spliterator.OfInt, java.util.Spliterator.OfLong, java.util.Spliterator.OfPrimitive&lt;T extends java.lang.Object,&#8203;T_CONS extends java.lang.Object,&#8203;T_SPLITR extends java.util.Spliterator.OfPrimitive&lt;T,&#8203;T_CONS,&#8203;T_SPLITR&gt;&gt;</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#density">density</a></span></code></th>
<td class="colLast">
<div class="block">Estimation of the density of bits which will be in the <i>live</i> state in
 the words encountered by this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h3>Fields inherited from class&nbsp;com.shouldis.bitset.parallel.<a href="Biterator.html" title="class in com.shouldis.bitset.parallel">Biterator</a></h3>
<a id="fields.inherited.from.class.com.shouldis.bitset.parallel.Biterator">
<!--   -->
</a><code><a href="Biterator.html#end">end</a>, <a href="Biterator.html#position">position</a>, <a href="Biterator.html#THRESHOLD">THRESHOLD</a></code></div>
<div class="inheritedList">
<h3>Fields inherited from interface&nbsp;java.util.Spliterator</h3>
<a id="fields.inherited.from.class.java.util.Spliterator">
<!--   -->
</a><code>CONCURRENT, DISTINCT, IMMUTABLE, NONNULL, ORDERED, SIZED, SORTED, SUBSIZED</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,int)">DensityBiterator</a></span>&#8203;(int&nbsp;position,
int&nbsp;end)</code></th>
<td class="colLast">
<div class="block">Creates a <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> with the specified starting and ending
 position.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,int,double)">DensityBiterator</a></span>&#8203;(int&nbsp;position,
int&nbsp;end,
double&nbsp;density)</code></th>
<td class="colLast">
<div class="block">Creates a <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> with the specified starting and ending
 position, and the specified <b>density</b>.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>protected abstract double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculateDensity()">calculateDensity</a></span>()</code></th>
<td class="colLast">
<div class="block">Calculates an estimation of the density of bits which will be in the
 <i>live</i> state when encountered by this <a href="Biterator.html" title="class in com.shouldis.bitset.parallel"><code>Biterator</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#characteristics()">characteristics</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#estimateSize()">estimateSize</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDensity()">getDensity</a></span>()</code></th>
<td class="colLast">
<div class="block">If the density of this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> is unknown, this method will
 update it, otherwise, it will return the current value.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateDensity()">updateDensity</a></span>()</code></th>
<td class="colLast">
<div class="block">Calculates the new density of this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> using
 <a href="#calculateDensity()"><code>calculateDensity()</code></a> and updates <a href="#density"><code>density</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;com.shouldis.bitset.parallel.<a href="Biterator.html" title="class in com.shouldis.bitset.parallel">Biterator</a></h3>
<a id="methods.inherited.from.class.com.shouldis.bitset.parallel.Biterator">
<!--   -->
</a><code><a href="Biterator.html#middle()">middle</a>, <a href="Biterator.html#nextLiveBit(long,int)">nextLiveBit</a>, <a href="Biterator.html#splitIndex()">splitIndex</a>, <a href="Biterator.html#stream()">stream</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;java.util.Spliterator</h3>
<a id="methods.inherited.from.class.java.util.Spliterator">
<!--   -->
</a><code>getComparator, getExactSizeIfKnown, hasCharacteristics</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;java.util.Spliterator.OfInt</h3>
<a id="methods.inherited.from.class.java.util.Spliterator.OfInt">
<!--   -->
</a><code>forEachRemaining, forEachRemaining, tryAdvance, tryAdvance, trySplit</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="density">density</a></h3>
<div class="memberSignature"><span class="modifiers">private</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">density</span></div>
<div class="block">Estimation of the density of bits which will be in the <i>live</i> state in
 the words encountered by this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a>. Initialized to
 <code>Double.NaN</code> normally, and updated when <a href="#updateDensity()"><code>updateDensity()</code></a> is
 called.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(int,int)">DensityBiterator</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="memberName">DensityBiterator</span>&#8203;(<span class="arguments">int&nbsp;position,
int&nbsp;end)</span></div>
<div class="block">Creates a <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> with the specified starting and ending
 position.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - (inclusive) the first index to include.</dd>
<dd><code>end</code> - (exclusive) index after the last index to include.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <b>position</b> is greater than or equal
                                  to <b>end</b>.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(int,int,double)">DensityBiterator</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="memberName">DensityBiterator</span>&#8203;(<span class="arguments">int&nbsp;position,
int&nbsp;end,
double&nbsp;density)</span></div>
<div class="block">Creates a <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> with the specified starting and ending
 position, and the specified <b>density</b>. This constructor should be used
 when splitting an existing <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> with a known density.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>position</code> - (inclusive) the first index to include.</dd>
<dd><code>end</code> - (exclusive) index after the last index to include.</dd>
<dd><code>density</code> - the density to initialize this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> with.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <b>position</b> is greater than or equal
                                  to <b>end</b>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="calculateDensity()">calculateDensity</a></h3>
<div class="memberSignature"><span class="modifiers">protected abstract</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">calculateDensity</span>()</div>
<div class="block">Calculates an estimation of the density of bits which will be in the
 <i>live</i> state when encountered by this <a href="Biterator.html" title="class in com.shouldis.bitset.parallel"><code>Biterator</code></a>. This should
 never be called by client code. This density is cached inside
 <a href="#density"><code>density</code></a>, as it is typically an expensive to calculate.
 <a href="#getDensity()"><code>getDensity()</code></a> should be used unless calculating and updating the
 density is necessary, in which case <a href="#updateDensity()"><code>updateDensity()</code></a> should be used
 to store the new density.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an estimation of the density of words encountered by this
         <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a>.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="estimateSize()">estimateSize</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">estimateSize</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="characteristics()">characteristics</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">characteristics</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="updateDensity()">updateDensity</a></h3>
<div class="memberSignature"><span class="modifiers">public final</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">updateDensity</span>()</div>
<div class="block">Calculates the new density of this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> using
 <a href="#calculateDensity()"><code>calculateDensity()</code></a> and updates <a href="#density"><code>density</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the updated density.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDensity()">getDensity</a></h3>
<div class="memberSignature"><span class="modifiers">public final</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">getDensity</span>()</div>
<div class="block">If the density of this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a> is unknown, this method will
 update it, otherwise, it will return the current value.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current <a href="#density"><code>density</code></a> of this <a href="DensityBiterator.html" title="class in com.shouldis.bitset.parallel"><code>DensityBiterator</code></a>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DensityBiterator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
